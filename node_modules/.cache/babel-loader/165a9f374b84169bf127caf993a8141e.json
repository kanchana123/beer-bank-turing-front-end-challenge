{"ast":null,"code":"import _toConsumableArray from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kanchannannavare/Desktop/beerbank/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kanchannannavare/Desktop/beerbank/client/src/Components/ProductList/ProductList.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport _ from 'lodash';\nimport Icon from '@material-ui/core/Icon';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport StarOutlined from '@material-ui/icons/StarOutlined';\nimport ProductDetails from '../ProductDetails/ProductDetails';\nimport products from '../products';\nimport './ProductList.css';\n/*\n  properties:\n  data: id, img, name, isFavourite, description\n\n\n\n*/\n\nvar styles = {\n  root: {\n    flexGrow: 1\n  },\n  card: {\n    maxWidth: 350,\n    minWidth: 200,\n    height: 300,\n    margin: 20\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  },\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: 200,\n    maxHeight: 150\n  },\n  icon: {\n    fontSize: 32,\n    color: \"orange\"\n  }\n};\n\nvar ProductList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductList, _Component);\n\n  function ProductList(props) {\n    var _this;\n\n    _classCallCheck(this, ProductList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductList).call(this, props));\n    _this.state = {\n      products: [],\n      details: {}\n    };\n    return _this;\n  }\n\n  _createClass(ProductList, [{\n    key: \"showStar\",\n    value: function showStar(isFavourite, id) {\n      var _this2 = this;\n\n      if (isFavourite) {\n        return React.createElement(StarOutlined, {\n          className: this.props.classes.icon,\n          onClick: function onClick() {\n            console.log(\"star\", id, _this2.state.products[_.findIndex(_this2.state.products, {\n              'id': id\n            })], _.findIndex(_this2.state.products, {\n              'id': id\n            }));\n\n            var index = _.findIndex(_this2.state.products, {\n              'id': id\n            });\n\n            _this2.setState({\n              products: [].concat(_toConsumableArray(_this2.state.products.slice(0, index)), [Object.assign({}, _this2.state.products[index], {\n                isFavourite: false\n              })], _toConsumableArray(_this2.state.products.slice(index + 1)))\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(StarBorder, {\n          className: this.props.classes.icon,\n          onClick: function onClick() {\n            var index = _.findIndex(_this2.state.products, {\n              'id': id\n            });\n\n            _this2.setState({\n              products: [].concat(_toConsumableArray(_this2.state.products.slice(0, index)), [Object.assign({}, _this2.state.products[index], {\n                isFavourite: true\n              })], _toConsumableArray(_this2.state.products.slice(index + 1)))\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"getProductDetails\",\n    value: function getProductDetails(id) {\n      var _this3 = this;\n\n      https: //api.punkapi.com/v2/beers/\n      fetch('https://api.punkapi.com/v2/beers/' + id).then(function (response) {\n        return response.json();\n      }).then(function (arr) {\n        console.log(\"detail\", _.first(arr));\n\n        _this3.setState({\n          details: _.first(arr)\n        });\n      });\n    }\n  }, {\n    key: \"Product\",\n    value: function Product(name, tagline, image, isFavourite, id) {\n      var _this4 = this;\n\n      return React.createElement(Card, {\n        className: this.props.classes.card,\n        onClick: function onClick(e) {\n          if (e.target.tagName == \"DIV\") {\n            // this.setState({details: this.state.products[_.findIndex(this.state.products, {'id' : id})]})\n            _this4.getProductDetails(id);\n\n            document.getElementById(\"productDetails\").style.display = \"block\";\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"star\",\n        style: {\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.showStar(isFavourite, id)), React.createElement(\"div\", {\n        class: \"product-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: image,\n        className: this.props.classes.img,\n        style: {\n          marginLeft: \"35%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"h3\", {\n        style: {\n          color: \"orange\",\n          margin: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, name), React.createElement(\"h4\", {\n        style: {\n          color: \"#b3b3b3\",\n          margin: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, tagline)));\n    }\n  }, {\n    key: \"list\",\n    value: function list(data, isFav) {\n      var _this5 = this;\n\n      return _.map(data, function (product) {\n        if (isFav && product.isFavourite) {\n          return React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 4,\n            lg: 4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, _this5.Product(product.name, product.tagline, product.image, product.isFavourite, product.id));\n        } else if (!isFav) {\n          return React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 4,\n            lg: 4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, _this5.Product(product.name, product.tagline, product.image, product.isFavourite, product.id));\n        }\n      });\n    }\n  }, {\n    key: \"getBeers\",\n    value: function getBeers() {\n      var _this6 = this;\n\n      fetch('https://api.punkapi.com/v2/beers').then(function (response) {\n        return response.json();\n      }).then(function (arr) {\n        // Map beers\n        var beers = arr.map(function (drink) {\n          // console.log(drink);\n          // Grab the props we want\n          var beer = {\n            id: drink.id,\n            name: drink.name,\n            tagline: drink.tagline,\n            image: drink.image_url,\n            isFavourite: false\n          };\n          return beer;\n        });\n\n        _this6.setState({\n          products: beers\n        });\n\n        console.log(\"state\", _this6.state.products);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getBeers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"product-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 30,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.list(this.state.products, this.props.isFav))), React.createElement(\"div\", {\n        id: \"productDetails\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(ProductDetails, {\n        product: this.state.details,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProductList;\n}(Component);\n\nProductList.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ProductList);","map":{"version":3,"sources":["/Users/kanchannannavare/Desktop/beerbank/client/src/Components/ProductList/ProductList.js"],"names":["React","Component","PropTypes","withStyles","Card","CardContent","Grid","_","Icon","StarBorder","StarOutlined","ProductDetails","products","styles","root","flexGrow","card","maxWidth","minWidth","height","margin","bullet","display","transform","title","fontSize","pos","marginBottom","img","maxHeight","icon","color","ProductList","props","state","details","isFavourite","id","classes","console","log","findIndex","index","setState","slice","Object","assign","https","fetch","then","response","json","arr","first","name","tagline","image","e","target","tagName","getProductDetails","document","getElementById","style","float","showStar","marginLeft","data","isFav","map","product","Product","beers","drink","beer","image_url","getBeers","list","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport _ from 'lodash'\nimport Icon from '@material-ui/core/Icon';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport StarOutlined from '@material-ui/icons/StarOutlined';\n\nimport ProductDetails from '../ProductDetails/ProductDetails'\n\nimport products from '../products'\n\n\n\nimport './ProductList.css'\n\n/*\n  properties:\n  data: id, img, name, isFavourite, description\n\n\n\n*/\n\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  card: {\n    maxWidth: 350,\n    minWidth: 200,\n    height: 300,\n    margin: 20\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: 200,\n    maxHeight: 150,\n  },\n  icon: {\n    fontSize: 32,\n    color: \"orange\"\n  }\n};\n\n\n\n\nclass ProductList extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {products: [], details: {}}\n  }\n\n  showStar (isFavourite, id) {\n    if (isFavourite) {\n      return <StarOutlined className={this.props.classes.icon} onClick={() => {\n          console.log(\"star\", id, this.state.products[_.findIndex(this.state.products, {'id' : id})], _.findIndex(this.state.products, {'id' : id}));\n          let index = _.findIndex(this.state.products, {'id' : id})\n\n          this.setState({\n            products: [\n               ...this.state.products.slice(0,index),\n               Object.assign({}, this.state.products[index], {isFavourite: false}),\n               ...this.state.products.slice(index+1)\n            ]\n          })\n        }}/>\n    } else {\n      return <StarBorder className={this.props.classes.icon} onClick={() => {\n        let index = _.findIndex(this.state.products, {'id' : id})\n\n        this.setState({\n          products: [\n             ...this.state.products.slice(0,index),\n             Object.assign({}, this.state.products[index], {isFavourite: true}),\n             ...this.state.products.slice(index+1)\n          ]\n        })\n        }}/>\n    }\n  }\n\n  getProductDetails(id) {\n    https://api.punkapi.com/v2/beers/\n\n    fetch('https://api.punkapi.com/v2/beers/'+id)\n    .then(response => response.json())\n    .then(arr => {\n      console.log(\"detail\", _.first(arr));\n      this.setState({details: _.first(arr)})\n    })\n  }\n  Product (name, tagline, image, isFavourite, id) {\n    return <Card className={this.props.classes.card} onClick={(e) => {\n        if (e.target.tagName == \"DIV\") {\n          // this.setState({details: this.state.products[_.findIndex(this.state.products, {'id' : id})]})\n          this.getProductDetails(id)\n          document.getElementById(\"productDetails\").style.display = \"block\"\n        }\n      }}>\n      <CardContent>\n        <div class=\"star\" style={{float: \"right\"}}>{this.showStar(isFavourite, id)}</div>\n        <div class=\"product-img\">\n          <img src={image}\n              className={this.props.classes.img} style={{marginLeft: \"35%\"}}/>\n        </div>\n        <h3 style={{color: \"orange\", margin: \"10px\"}}>{name}</h3>\n        <h4 style={{color: \"#b3b3b3\", margin: \"10px\"}}>{tagline}</h4>\n      </CardContent>\n    </Card>\n  }\n\n  list(data, isFav) {\n      return _.map(data, (product) => {\n        if (isFav && product.isFavourite) {\n          return (\n            <Grid item xs={12} sm={6} md={4} lg={4}>\n              {this.Product(product.name, product.tagline, product.image, product.isFavourite, product.id)}\n            </Grid>\n          )\n        } else if (!isFav) {\n          return (\n            <Grid item xs={12} sm={6} md={4} lg={4}>\n              {this.Product(product.name, product.tagline, product.image, product.isFavourite, product.id)}\n            </Grid>\n          )\n        }\n\n      })\n  }\n\n  getBeers() {\n    fetch('https://api.punkapi.com/v2/beers' )\n      .then( response => {\n        return response.json();\n      }).then(arr => {\n        // Map beers\n        const beers = arr.map(function(drink) {\n\n          // console.log(drink);\n\n          // Grab the props we want\n          const beer = {\n            id: drink.id,\n            name : drink.name,\n            tagline : drink.tagline,\n            image : drink.image_url,\n            isFavourite: false\n          }\n\n          return beer\n        })\n\n        this.setState({products: beers})\n\n        console.log(\"state\", this.state.products);\n      })\n    }\n\n  componentDidMount() {\n     this.getBeers();\n  }\n\n\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className=\"product-list\">\n        <div className=\"products\">\n          <Grid container spacing={30} alignItems=\"center\">\n            {this.list(this.state.products, this.props.isFav)}\n          </Grid>\n        </div>\n        <div id=\"productDetails\" style={{display: \"none\"}}>\n          <ProductDetails product={this.state.details} />\n        </div>\n      </div>\n    )\n  }\n}\n\nProductList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ProductList);\n"]},"metadata":{},"sourceType":"module"}
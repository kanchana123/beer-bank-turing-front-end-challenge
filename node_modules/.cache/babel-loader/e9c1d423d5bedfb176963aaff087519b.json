{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kanchannannavare/Documents/beer-bank-turing-front-end-challenge/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kanchannannavare/Documents/beer-bank-turing-front-end-challenge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _ from 'lodash'; // get all the beers\n\nexport var getData = function getData() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://api.punkapi.com/v2/beers').then(function (response) {\n                  return response.json();\n                }).then(function (arr) {\n                  // Map beers\n                  var beers = arr.map(function (drink) {\n                    // Get the props we want\n                    var beer = {\n                      id: drink.id,\n                      name: drink.name,\n                      tagline: drink.tagline,\n                      image: drink.image_url\n                    };\n                    return beer;\n                  });\n                  return beers;\n                });\n\n              case 2:\n                res = _context.sent;\n                dispatch({\n                  type: \"GET_DATA\",\n                  payload: res\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}; // update state data to searched data\n\nexport var getSearchedData = function getSearchedData(value) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var query, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                query = value ? 'https://api.punkapi.com/v2/beers?beer_name=' + value : 'https://api.punkapi.com/v2/beers';\n                _context2.next = 3;\n                return fetch(query).then(function (response) {\n                  return response.json();\n                }).then(function (arr) {\n                  // Map beers\n                  console.log(\"array\", arr);\n                  var beers = arr.map(function (drink) {\n                    // Get the props we want\n                    var beer = {\n                      id: drink.id,\n                      name: drink.name,\n                      tagline: drink.tagline,\n                      image: drink.image_url,\n                      isFavourite: false\n                    };\n                    return beer;\n                  });\n                  return beers;\n                }).catch(function (err) {\n                  console.log(\"err\", err);\n                });\n\n              case 3:\n                res = _context2.sent;\n                dispatch({\n                  type: \"GET_SEARCHED_DATA\",\n                  payload: res\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}; // get beer details by id\n\nexport var getProductDetails = function getProductDetails(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch('https://api.punkapi.com/v2/beers/' + id).then(function (response) {\n                  return response.json();\n                }).then(function (arr) {\n                  return _.first(arr);\n                });\n\n              case 2:\n                res = _context3.sent;\n                dispatch({\n                  type: \"GET_DETAILS\",\n                  payload: res\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n}; // update favourites state when user adds or removes item from favourites\n\nexport var updateFavourites = function updateFavourites(newFavourites) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                dispatch({\n                  type: \"UPDATE_FAV\",\n                  payload: newFavourites ? newFavourites : [1, 2, 3]\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n}; // advance search\n\nexport var updateSearch = function updateSearch(values) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var query, res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                query = \"\";\n\n                _.map(values, function (val, key) {\n                  query += \"&\" + key + \"=\" + val;\n                });\n\n                query = query ? \"?\" + query.substring(1, query.length) : \"\";\n                _context5.next = 5;\n                return fetch('https://api.punkapi.com/v2/beers' + query).then(function (response) {\n                  return response.json();\n                }).then(function (arr) {\n                  // Map beers\n                  console.log(\"array\", arr);\n                  var beers = arr.map(function (drink) {\n                    // Get the props we want\n                    var beer = {\n                      id: drink.id,\n                      name: drink.name,\n                      tagline: drink.tagline,\n                      image: drink.image_url,\n                      isFavourite: false\n                    };\n                    return beer;\n                  });\n                  return beers;\n                }).catch(function (err) {\n                  console.log(\"err\", err);\n                });\n\n              case 5:\n                res = _context5.sent;\n                dispatch({\n                  type: \"UPDATE_SEARCH\",\n                  payload: res\n                });\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/Users/kanchannannavare/Documents/beer-bank-turing-front-end-challenge/src/store/actions/products.js"],"names":["_","getData","dispatch","fetch","then","response","json","arr","beers","map","drink","beer","id","name","tagline","image","image_url","res","type","payload","getSearchedData","value","query","console","log","isFavourite","catch","err","getProductDetails","first","updateFavourites","newFavourites","updateSearch","values","val","key","substring","length"],"mappings":"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","sourcesContent":["import _ from 'lodash'\n\n// get all the beers\nexport const getData = () => async dispatch => {\n  const res = await fetch('https://api.punkapi.com/v2/beers')\n              .then( response => {\n                return response.json();\n              }).then(arr => {\n                // Map beers\n                const beers = arr.map(function(drink) {\n\n                  // Get the props we want\n                  const beer = {\n                    id: drink.id,\n                    name : drink.name,\n                    tagline : drink.tagline,\n                    image : drink.image_url                  }\n\n                  return beer\n                })\n                return beers\n              })\n\n  dispatch({type: \"GET_DATA\", payload: res})\n}\n\n// update state data to searched data\nexport const getSearchedData = (value) => async dispatch => {\n  let query = value ? 'https://api.punkapi.com/v2/beers?beer_name=' + value : 'https://api.punkapi.com/v2/beers'\n\n  const res = await fetch(query)\n              .then( response => {\n                return response.json();\n              }).then(arr => {\n                // Map beers\n                console.log(\"array\", arr);\n                const beers = arr.map(function(drink) {\n\n                  // Get the props we want\n                  const beer = {\n                    id: drink.id,\n                    name : drink.name,\n                    tagline : drink.tagline,\n                    image : drink.image_url,\n                    isFavourite: false\n                  }\n\n                  return beer\n                })\n                return beers\n              }).catch(err => {\n                console.log(\"err\", err);\n              })\n\n  dispatch({type: \"GET_SEARCHED_DATA\", payload: res})\n}\n\n// get beer details by id\nexport const getProductDetails = (id) => async dispatch => {\n\n  const res = await fetch('https://api.punkapi.com/v2/beers/' + id)\n              .then(response => response.json())\n              .then(arr => {\n                return _.first(arr)\n              })\n\n  dispatch({type: \"GET_DETAILS\", payload: res })\n}\n\n// update favourites state when user adds or removes item from favourites\nexport const updateFavourites = (newFavourites) => async dispatch => {\n  dispatch({type: \"UPDATE_FAV\", payload: newFavourites ? newFavourites : [1, 2, 3]})\n}\n\n// advance search\nexport const updateSearch = (values) => async dispatch => {\n  var query = \"\"\n\n  _.map(values, (val, key) => {\n    query += \"&\" + key + \"=\" + val\n  })\n\n  query = query ? \"?\" + query.substring(1, query.length) : \"\"\n\n  const res = await fetch('https://api.punkapi.com/v2/beers' + query)\n              .then( response => {\n                return response.json();\n              }).then(arr => {\n                // Map beers\n                console.log(\"array\", arr);\n                const beers = arr.map(function(drink) {\n\n                  // Get the props we want\n                  const beer = {\n                    id: drink.id,\n                    name : drink.name,\n                    tagline : drink.tagline,\n                    image : drink.image_url,\n                    isFavourite: false\n                  }\n\n                  return beer\n                })\n                return beers\n              }).catch(err => {\n                console.log(\"err\", err);\n              })\n\n  dispatch({type: \"UPDATE_SEARCH\", payload: res})\n}\n"]},"metadata":{},"sourceType":"module"}